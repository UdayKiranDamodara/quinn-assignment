(this.webpackJsonpquinn=this.webpackJsonpquinn||[]).push([[0],{50:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(27),s=n.n(c),o=(n(50),n(93),n(82),n(83),n(84),n(2)),r=function(){return Object(o.jsxs)("div",{className:"days-container",children:[Object(o.jsx)("div",{className:"days-item",children:"S"}),Object(o.jsx)("div",{className:"days-item",children:"M"}),Object(o.jsx)("div",{className:"days-item",children:"T"}),Object(o.jsx)("div",{className:"days-item",children:"W"}),Object(o.jsx)("div",{className:"days-item",children:"T"}),Object(o.jsx)("div",{className:"days-item",children:"F"}),Object(o.jsx)("div",{className:"days-item",children:"S"})]})},l=n(12),i=(n(86),Object(a.createContext)()),d=function(e){var t=Object(a.useState)(new Date),n=Object(l.a)(t,2),c=n[0],s=n[1];return Object(o.jsx)(i.Provider,{value:[c,s],children:e.children})},u=(n(87),n(22)),g=(n(88),n(89),n(29)),j=n(30),h=function(e){var t=e.data,n=t.date.getDate(),a=t.date.getDay(),c=t.data[0],s=void 0!==c?c.media[0].mediaurl:null,r=void 0!==c?c.rating:null,l=[];if(null!==r)for(var i=r,d=0;d<5;d++)i>0?(l.push(Object(o.jsx)(g.a,{icon:j.a,size:"xs",className:"star",style:{color:"lightblue"}})),i--):l.push(Object(o.jsx)(g.a,{icon:j.a,size:"xs",className:"star",style:{color:"lightgray"}}));var u={"hair cut":"Cu","protein treatment":"Pr","hair color":"HC","deep conditioning":"DC",clarifying:"C"},h=void 0!==c?c.typeofday:null;return console.log(c),console.log(s),console.log(r),Object(o.jsxs)("div",{className:0===a?"grid-item sunday":"grid-item",children:[Object(o.jsx)("div",{className:"date",children:1===n?"".concat(["Jan","Feb","Mar","Apr","May","June","July","Aug","Sep","Oct","Nov","Dec"][t.date.getMonth()]," ").concat(n):n}),Object(o.jsx)("div",{className:"rating",children:null!==r?Object(o.jsx)("div",{children:l}):Object(o.jsx)("h4",{})}),Object(o.jsx)("div",{className:"image",children:null!==s?Object(o.jsx)("img",{className:"image-item",src:s}):Object(o.jsx)("div",{className:"image-height"})}),Object(o.jsx)("div",{className:"legend",children:null!==h?h.map((function(e){return Object(o.jsx)("div",{className:"legend-item",children:u[e]})})):Object(o.jsx)("div",{})})]})},m=function(e){var t=Object(a.useContext)(i),n=Object(l.a)(t,2),c=(n[0],n[1],Object(a.useState)([])),s=Object(l.a)(c,2),r=s[0],d=s[1],g=[];Object(a.useEffect)((function(){j(null)}),[]);var j=function e(t){console.log("fetching Data for token:",t),fetch("http://devapi.quinn.care/graph",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requestobjects:[{posts:{operationtype:"read",id:{return:!0},userid:{searchvalues:["41329663-5834-11eb-8e6e-3ca82abc3dd4"],return:!0},iscalendarentry:{searchvalues:["true"],return:!0},media:{return:!0},rating:{return:!0},text:{return:!0},privacy:{searchvalues:[18],return:!0},typeofday:{return:!0},calendardatetime:{return:!0,sort:"ascending"},maxitemcount:"20",continuationtoken:t}}]})}).then((function(e){return e.json()})).then((function(t){var n=t.responseobjects[0].posts;console.log("temp",n);var a=t.responseobjects[0].continuationtoken;console.log("cont token: ",a),g=[].concat(Object(u.a)(g),Object(u.a)(n)),null!==a?e(a):m()})).catch((function(e){return console.log("error",e)}))},m=function(){console.log("in pre-process"),console.log("posts: ",g);var e=g.length;console.log("length: ",e);var t=g.map((function(e,t){console.log("preprocessed date: ",e.calendardatetime);var n=e.calendardatetime.split("-");n[2]=n[2].slice(0,2);var a=new Date(n[0],n[1]-1,n[2]);return console.log("processed date: ",a),a}));console.log(t),b(t)},b=function(e){console.log("datesArray in makeTiles",e),console.log(e[0],e[0].getFullYear(),e[0].getMonth(),e[0].getDate());var t=new Date(e[0].getFullYear(),e[0].getMonth(),e[0].getDate()-e[0].getDay()+6),n=new Date(e[e.length-1].getFullYear(),e[e.length-1].getMonth(),e[e.length-1].getDate()-e[e.length-1].getDay());console.log("first day: ",n),console.log("last day: ",t);for(var a=function(){console.log(c);var t=e.map((function(e,t){return e.getDate()===c.getDate()&&e.getMonth()===c.getMonth()&&e.getFullYear()===c.getFullYear()&&t})).filter((function(e){return!1!==e})),n={date:new Date(c.getFullYear(),c.getMonth(),c.getDate()),data:t.map((function(e){return g[e]}))};console.log(n),d((function(e){return[].concat(Object(u.a)(e),[n])}))},c=n;c<=t;c.setDate(c.getDate()+1))a();console.log(r)};return Object(o.jsx)("div",{className:"grid-container",children:r.map((function(e,t){return Object(o.jsx)(h,{data:e},t)}))})};var b=function(){var e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay()-14),console.log(typeof String(e)),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(r,{}),Object(o.jsx)(m,{})]})};s.a.render(Object(o.jsx)(d,{children:Object(o.jsx)(b,{})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.aa70204a.chunk.js.map